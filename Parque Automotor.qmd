---
title: "TITULO"
subtitle: "SUBTITULO"
date: today
author: "Autor"
format:
  #pdf:
  #  toc: true
  #  toc-depth: 4
  html:
    toc: true
    toc-depth: 4
    toc-float: true
    collapsed: false
    smooth-scroll: true
    number-sections: true
    theme: cerulean
    highlight: tango
    keep-md: true
    fig-height: 7
    fig-width: 10
  docx:
    toc: true
    toc-depth: 4
editor:
  output: console
execute: 
  echo: false
  warning: false
lang: es
---

```{python}
import pandas as pd
import numpy as np
from janitor import clean_names
from dplython import *
import matplotlib.pyplot as plt
import seaborn as sns
```

```{python}
data = pd.read_excel("crecimiento_parque_automotor.xlsx").clean_names()

data = DplyFrame(data)
```

## Cantidad de vehículos registrados

# Por municipio

```{python}
vehiculos_municipio = data >> group_by(X.nombre_departamento,X.nombre_municipio) >> summarize(total_vehiculos = X.cantidad.sum()) >> arrange(X.nombre_departamento,X.nombre_municipio)
```

# Tipo de vehículo por departamento


```{python}
vehiculos_tipo = data >> group_by(X.nombre_departamento,X.nombre_de_la_clase) >> summarize(total_vehiculos = X.cantidad.sum()) >> arrange(X.nombre_departamento,X.nombre_de_la_clase)

vehiculos_tipo_pivot = vehiculos_tipo.pivot(index="nombre_departamento", columns="nombre_de_la_clase", values="total_vehiculos").fillna(0).astype(int)
```